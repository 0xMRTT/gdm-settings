#!/usr/bin/env python3
import os
import sys
import gettext
import logging

APPDIR = os.environ.get('APPDIR', '')             # required for AppImage

py_install_dir = APPDIR + '@py_install_dir@'
sys.path.insert(1, py_install_dir)

localedir = APPDIR + '@locale_dir@'
gettext.bindtextdomain('gdm-settings', localedir)
gettext.textdomain('gdm-settings')
_ = gettext.gettext

# Terminal Text Styles
style_normal = '\033[0m'
style_bold   = '\033[1m'

logging.basicConfig(format=f'{style_bold}%(levelname)s:{style_normal} %(message)s')

from gdm_settings.app import Application
app = Application()

try:
    status = app.run(sys.argv)
    sys.exit(status)
except KeyboardInterrupt:
    # We include '\b\b' in print statement here to delete '^C' printed when KeyboardInterrupt happens
    print('\b\b' + _('KeyboardInterrupt received. Exiting â€¦'), file=sys.stderr)
